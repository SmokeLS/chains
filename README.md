# chains

Вам удалось проникнуть в лабораторию по производству волшебного зелья. Вы сканируете химический состав зелья и обнаруживаете, что он состоит из чрезвычайно длинных полимеров (Ваши данные полимера вы найдете по кнопке Данные внизу задачи).<br><br>Полимер состоит из более мелких звеньев, которые при срабатывании реагируют друг с другом так, что разрушаются два соседних звена одного типа и противоположной полярности. Типы звеньев обозначаются буквами; полярность единиц представлена ​​заглавными буквами. Например, r и R — единицы одного типа, но противоположной полярности, тогда как r и s — совершенно разные типы и не реагируют.<br><br>Например:<br><br></div><pre><strong>aA</strong>     - a и A реагируют, ничего не оставляя после себя.
a<strong>bB</strong>A   - bB уничтожает себя, оставляя aA. Как и выше, aA затем уничтожает себя, не оставляя ничего.
abAB   - нет двух смежных единиц одного типа, поэтому ничего не происходит.
aabAAB - несмотря на то, что aa и AA одного типа, их полярности совпадают, поэтому ничего не происходит.</pre><div><br>Теперь рассмотрим более крупный пример, dabAcCaCBAcCcaDA:</div><pre>dabA<strong>cC</strong>aCBAcCcaDA    - первый 'cC' удаляется;
dab<strong>Aa</strong>CBAcCcaDA      - это создает 'Aa', который удаляется;
dabCBA<strong>cC</strong>caDA        - либо 'cC', либо 'Cc' удаляются (результат тот же).
dabCBAcaDA          - дальше реакции нет


После всех возможных реакций полученный полимер содержит 10 звеньев.</pre><div><br>Сколько единиц осталось после полной реакции у вашего полимера?</div></div>
